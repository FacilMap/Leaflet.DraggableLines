!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("leaflet"),require("leaflet-geometryutil")):"function"==typeof define&&define.amd?define(["leaflet","leaflet-geometryutil"],t):"object"==typeof exports?exports["L.DraggableLines"]=t(require("leaflet"),require("leaflet-geometryutil")):e["L.DraggableLines"]=t(e.L,e.L.GeometryUtil)}(self,(function(e,t){return(()=>{"use strict";var r={102:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(453),l=a(r(7)),u=r(700),c=a(r(743)),d=a(r(523)),h=a(r(83)),p=r(593),g=function(e){function t(t,r){var n=e.call(this,t)||this;return n.handleLayerAdd=function(e){e.layer instanceof s.Polyline&&("function"==typeof n.options.enableForLayer?n.options.enableForLayer(e.layer):n.options.enableForLayer)&&n.enableForLayer(e.layer)},n.handleLayerRemove=function(e){e.layer instanceof s.Polyline&&n.disableForLayer(e.layer)},n.handleLayerMouseOver=function(e){s.Draggable._dragging||n.drawTempMarker(e.target,e.latlng)},n.handleLayerSetLatLngs=function(e){var t=e.target;s.Draggable._dragging||(n.removeTempMarker(),t._draggableLines&&(n.drawDragMarkers(t),n.drawPlusMarkers(t)))},n.options=i({enableForLayer:function(e){return e.options.interactive},allowExtendingLine:!0,removeOnClick:!0},r),n}return o(t,e),t.prototype.addHooks=function(){var e=this;this._map.on("layeradd",this.handleLayerAdd),this._map.on("layerremove",this.handleLayerRemove),this._map.eachLayer((function(t){e.handleLayerAdd({layer:t})}))},t.prototype.removeHooks=function(){var e=this;this._map.on("layeradd",this.handleLayerAdd),this._map.on("layerremove",this.handleLayerRemove),this._map.eachLayer((function(t){e.handleLayerRemove({layer:t})}))},t.prototype.drawDragMarkers=function(e){var t,r,n=this;if(e._draggableLines){this.removeDragMarkers(e);for(var o=e.getDraggableLinesRoutePoints()||e.getLatLngs(),a=s.LineUtil.isFlat(o)?[o]:o,l=s.LineUtil.isFlat(o),d=0;d<a.length;d++)for(var h=function(o){var h=l?o:[d,o],g=p.options.removeOnClick,f=i({icon:e instanceof s.Polygon?u.defaultIcon:0==o?u.startIcon:o==a[d].length-1?u.endIcon:u.defaultIcon},null===(r=(t=p.options).dragMarkerOptions)||void 0===r?void 0:r.call(t,e,o,a[d].length)),y=new c.default(p,e,a[d][o],h,f,g).addTo(p._map);e._draggableLines.dragMarkers.push(y),y.on("mouseover",(function(){n.fire("dragmouseover",{layer:e,idx:h,marker:y})})),y.on("mouseout",(function(){n.fire("dragmouseout",{layer:e,idx:h,marker:y})}))},p=this,g=0;g<a[d].length;g++)h(g)}},t.prototype.removeDragMarkers=function(e){if(e._draggableLines){for(var t=0,r=e._draggableLines.dragMarkers;t<r.length;t++)r[t].removeFrom(this._map);e._draggableLines.dragMarkers=[]}},t.prototype.drawPlusMarkers=function(e){var t,r,n,o;if(this.removePlusMarkers(e),!(e instanceof s.Polygon)&&e._draggableLines&&this.options.allowExtendingLine)for(var a=e.getLatLngs(),l=s.LineUtil.isFlat(a)?[a]:a,c=e.getDraggableLinesRoutePoints(),h=0;h<l.length;h++)if(!(l[h].length<2))for(var g=0,f=[!0,!1];g<f.length;g++){var y,_=f[g];y=c?_?0:c.length:s.LineUtil.isFlat(a)?_?0:l[h].length:_?[h,0]:[h,l[h].length];var v=i({icon:u.plusIcon},null===(r=(t=this.options).plusMarkerOptions)||void 0===r?void 0:r.call(t,e,_)),m=i({icon:_?u.startIcon:u.endIcon},null===(o=(n=this.options).plusTempMarkerOptions)||void 0===o?void 0:o.call(n,e,_)),L=new d.default(this,e,p.getPlusIconPoint(this._map,l[h],24+e.options.weight/2,_),y,v,m).addTo(this._map);e._draggableLines.plusMarkers.push(L)}},t.prototype.removePlusMarkers=function(e){if(e._draggableLines){for(var t=0,r=e._draggableLines.plusMarkers;t<r.length;t++)r[t].removeFrom(this._map);e._draggableLines.plusMarkers=[]}},t.prototype.drawTempMarker=function(e,t){var r,n;this.removeTempMarker();var o=i({icon:u.defaultIcon},null===(n=(r=this.options).tempMarkerOptions)||void 0===n?void 0:n.call(r,e));this._tempMarker=new h.default(this,e,l.default.closest(this._map,e,t),o).addTo(this._map)},t.prototype.removeTempMarker=function(){this._tempMarker&&(this._tempMarker.removeFrom(this._map),delete this._tempMarker)},t.prototype.enableForLayer=function(e){var t=this;e._draggableLines||(e._draggableLines={dragMarkers:[],plusMarkers:[],zoomEndHandler:function(){t.drawPlusMarkers(e)}},e.on("mouseover",this.handleLayerMouseOver),e.on("draggableLines-setLatLngs",this.handleLayerSetLatLngs),e.on("draggableLines-setRoutePoints",this.handleLayerSetLatLngs),this._map.on("zoomend",e._draggableLines.zoomEndHandler),this.drawDragMarkers(e),this.drawPlusMarkers(e))},t.prototype.redrawForLayer=function(e){e._draggableLines&&(this.drawDragMarkers(e),this.drawPlusMarkers(e),this._tempMarker&&this._tempMarker._layer===e&&this.drawTempMarker(e,this._tempMarker.getLatLng()))},t.prototype.disableForLayer=function(e){e.off("mouseover",this.handleLayerMouseOver),e.off("draggableLines-setLatLngs",this.handleLayerSetLatLngs),e.off("draggableLines-setRoutePoints",this.handleLayerSetLatLngs),e._draggableLines&&this._map.off("zoomend",e._draggableLines.zoomEndHandler),this.removeDragMarkers(e),this.removePlusMarkers(e),delete e._draggableLines},t.prototype.redraw=function(){var e=this;this._map.eachLayer((function(t){if(t instanceof s.Polyline){var r="function"==typeof e.options.enableForLayer?e.options.enableForLayer(t):e.options.enableForLayer;t._draggableLines&&!r?e.disableForLayer(t):!t._draggableLines&&r?e.enableForLayer(t):t._draggableLines&&e.redrawForLayer(t)}}))},t}(s.Handler);t.default=g,Object.assign(g.prototype,s.Evented.prototype)},607:function(e,t,r){var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return i(t,e),t},s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||o(t,e,r)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DraggableLinesPlusMarker=t.DraggableLinesTempMarker=t.DraggableLinesDragMarker=t.DraggableLinesMarker=void 0;var u=l(r(453)),c=l(r(102));r(364);var d=a(r(593)),h=a(r(700)),p=l(r(529));t.DraggableLinesMarker=p.default;var g=l(r(743));t.DraggableLinesDragMarker=g.default;var f=l(r(83));t.DraggableLinesTempMarker=f.default;var y=l(r(523));t.DraggableLinesPlusMarker=y.default,s(r(593),t),s(r(700),t),u.default.DraggableLines=Object.assign(c.default,n(n({},d),{icons:h,Marker:p.default,DragMarker:g.default,TempMarker:f.default,PlusMarker:y.default})),t.default=c.default},364:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=r(453);n.Polyline.prototype.hasDraggableLinesRoutePoints=function(){return null!=this.options.draggableLinesRoutePoints},n.Polyline.prototype.getDraggableLinesRoutePoints=function(){var e;return null===(e=this.options.draggableLinesRoutePoints)||void 0===e?void 0:e.map((function(e){return n.latLng(e)}))},n.Polyline.prototype.setDraggableLinesRoutePoints=function(e){this.options.draggableLinesRoutePoints=e,this.fire("draggableLines-setRoutePoints")};var o=n.Polyline.prototype.setLatLngs;n.Polyline.prototype.setLatLngs=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=o.apply(this,e);return this.fire("draggableLines-setLatLngs"),r}},743:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(453),l=r(593),u=function(e){function t(t,r,n,o,a,s){var l=e.call(this,t,r,n,!1,i({draggable:!0},a))||this;return l._idx=o,l._removeOnClick=s,l}return o(t,e),t.prototype.onAdd=function(t){e.prototype.onAdd.call(this,t);var r=this._layer.getDraggableLinesRoutePoints()||this._layer.getLatLngs(),n=Array.isArray(this._idx)?r[this._idx[0]]:r;return this._removeOnClick&&n.length>(this._layer instanceof s.Polygon?3:2)&&this.on("click",this.handleClick),this},t.prototype.getIdx=function(){return this._idx},t.prototype.handleClick=function(){var e=this.getIdx();l.removePoint(this._layer,e),this._draggable.fire("remove",{layer:this._layer,idx:e})},t}(a(r(529)).default);t.default=u},700:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.plusIcon=t.endIcon=t.startIcon=t.defaultIcon=void 0;var o=r(453),i=n(r(306)),a=n(r(5)),s=o.Icon.Default.prototype._detectIconPath();function l(e){for(var t=i.default,r=0,n=Object.keys(e);r<n.length;r++){var a=n[r];t=t.replace(new RegExp("%24%7b"+a+"%7d","g"),encodeURIComponent(e[a]))}return new o.Icon.Default({imagePath:new String(""),iconUrl:t,iconRetinaUrl:t,shadowUrl:s+"marker-shadow.png"})}t.defaultIcon=l({color1:"#2e6c97",color2:"#3883b7",color3:"#126fc6",color4:"#4c9cd1"}),t.startIcon=l({color1:"#2E9749",color2:"#06EA3F",color3:"#03D337",color4:"#40DD68"}),t.endIcon=l({color1:"#972E2E",color2:"#B73838",color3:"#C61212",color4:"#D14C4C"}),t.plusIcon=new o.Icon({iconUrl:a.default,iconSize:[24,24],iconAnchor:[12,12]})},529:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(453),a=r(593),s=function(e){function t(t,r,n,o,i){var a=e.call(this,n,i)||this;return a._draggable=t,a._layer=r,a._isInsert=o,a}return o(t,e),t.prototype.onAdd=function(t){return e.prototype.onAdd.call(this,t),this.on("dragstart",this.handleDragStart,this),this.on("drag",this.handleDrag,this),this.on("dragend",this.handleDragEnd,this),this},t.prototype.onRemove=function(t){return e.prototype.onRemove.call(this,t),this},t.prototype.handleDragStart=function(e){var t=this.getLatLng();this._dragFrom=t,this._dragIdx=this.getIdx(),a.setPoint(this._layer,t,this._dragIdx,this._isInsert),this._draggable.fire("dragstart",{layer:this._layer,from:t,to:t,idx:this._dragIdx,isNew:this._isInsert})},t.prototype.handleDrag=function(){var e=this.getLatLng();a.setPoint(this._layer,e,this._dragIdx,!1),this._draggable.fire("drag",{layer:this._layer,from:this._dragFrom,to:e,idx:this._dragIdx,isNew:this._isInsert})},t.prototype.handleDragEnd=function(){var e=this,t={layer:this._layer,from:this._dragFrom,to:this.getLatLng(),idx:this._dragIdx,isNew:this._isInsert};Promise.resolve().then((function(){a.setPoint(t.layer,t.to,t.idx,!1),e._draggable.fire("dragend",t)}))},t}(i.Marker);t.default=s},523:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(453),l=a(r(529)),u=a(r(83)),c=function(e){function t(t,r,n,o,a,s){var l=e.call(this,t,r,n,!0,i({pane:"overlayPane",zIndexOffset:-2e5},a))||this;return l._idx=o,l._tempMarkerOptions=s,l}return o(t,e),t.prototype.onAdd=function(t){return e.prototype.onAdd.call(this,t),this.on("mouseover",this.handleMouseOver,this),this},t.prototype.onRemove=function(t){return e.prototype.onRemove.call(this,t),this._tempMarker&&(this._tempMarker.remove(),delete this._tempMarker),this},t.prototype.getIdx=function(){return this._idx},t.prototype.handleMouseOver=function(e){this._draggable.removeTempMarker(),this._tempMarker=new d(this._draggable,this._layer,this,e.latlng,this.getIdx(),this._tempMarkerOptions).addTo(this._map),this._draggable._tempMarker=this._tempMarker},t}(l.default);t.default=c;var d=function(e){function t(t,r,n,o,i,a){var s=e.call(this,t,r,o,a)||this;return s._plusMarker=n,s._idx=i,s}return o(t,e),t.prototype.getIdx=function(){return this._idx},t.prototype.shouldRemove=function(e){var t=this._map.latLngToLayerPoint(e),r=s.DomUtil.getPosition(this._plusMarker._icon);return Math.abs(r.y-t.y)>this._plusMarker._icon.offsetHeight/2||Math.abs(r.x-t.x)>this._plusMarker._icon.offsetWidth/2},t.prototype.getRenderPoint=function(){return this.getLatLng()},t}(u.default)},83:function(e,t,r){var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(453),l=r(593);function u(e,t){var r=s.Util.create(t),n=r._setIconStyles;return r._setIconStyles=function(t,o){n.call(r,t,o);var i=2*e.options.weight;t.style.padding=i+"px",t.style.marginLeft=parseInt(t.style.marginLeft)-i+"px",t.style.marginTop=parseInt(t.style.marginTop)-i+"px"},r}var c=function(e){function t(t,r,n,o){return e.call(this,t,r,n,!0,i(i({draggable:!0,zIndexOffset:-1e5},o),{icon:u(r,o.icon)}))||this}return o(t,e),t.prototype.onAdd=function(t){return e.prototype.onAdd.call(this,t),t.on("mousemove",this.handleMapMouseMove,this),s.DomEvent.on(t.getContainer(),"mouseover",this.handleMapMouseOver,this),this.on("click",this.handleClick,this),this},t.prototype.onRemove=function(t){return e.prototype.onRemove.call(this,t),t.off("mousemove",this.handleMapMouseMove,this),s.DomEvent.off(t.getContainer(),"mouseover",this.handleMapMouseOver,this),this},t.prototype.show=function(){this._icon.style.display="",this._shadow&&(this._shadow.style.display="")},t.prototype.hide=function(){this._icon.style.display="none",this._shadow&&(this._shadow.style.display="none")},t.prototype.isHidden=function(){return"none"==this._icon.style.display},t.prototype.getIdx=function(){var e=this.getLatLng();return this._layer.hasDraggableLinesRoutePoints()?l.getRouteInsertPosition(this._map,this._layer.getDraggableLinesRoutePoints(),this._layer.getLatLngs(),e):l.getInsertPosition(this._map,this._layer.getLatLngs(),e,this._layer instanceof s.Polygon)},t.prototype.handleClick=function(){var e=this.getLatLng(),t=this.getIdx();l.setPoint(this._layer,e,t,!0),this._draggable.fire("insert",{layer:this._layer,latlng:e,idx:t})},t.prototype.shouldRemove=function(e){return!this._layer._containsPoint(this._map.latLngToLayerPoint(e))},t.prototype.getRenderPoint=function(e){var t=s.GeometryUtil.closest(this._map,this._layer,e);if(!(t.distance>this._layer.options.weight/2+1))return s.latLng(t)},t.prototype.handleMapMouseMove=function(e){if(!s.Draggable._dragging)if(this.shouldRemove(this._map.mouseEventToLatLng(e.originalEvent)))this.remove();else{var t=this.getRenderPoint(this._map.mouseEventToLatLng(e.originalEvent));t&&this.setLatLng(t);var r=!this.isHidden();t&&!r?this.show():!t&&r&&this.hide()}},t.prototype.handleMapMouseOver=function(e){s.Draggable._dragging||e.target===this.getElement()||e.target===this._layer.getElement()||this.remove()},t}(a(r(529)).default);t.default=c},593:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},a=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getPlusIconPoint=t.removePoint=t.setPoint=t.removeFromPosition=t.updateAtPosition=t.insertAtPosition=t.getFromPosition=t.getRouteInsertPosition=t.getInsertPosition=void 0;var l=i(r(453)),u=s(r(7));function c(e,t,r){var n=Array.isArray(r)?r:[r];if(0===n.length)return e;if(1===n.length)return a(e.slice(0,n[0]),[t],e.slice(n[0]));var o=a(e);return o[n[0]]=c(o[n[0]],t,n.slice(1)),o}function d(e,t,r){var n=Array.isArray(r)?r:[r];if(0===n.length)return e;if(1===n.length)return a(e.slice(0,n[0]),[t],e.slice(n[0]+1));var o=a(e);return o[n[0]]=d(o[n[0]],t,n.slice(1)),o}function h(e,t){var r=Array.isArray(t)?t:[t];if(0===r.length)return e;if(1===r.length)return a(e.slice(0,r[0]),e.slice(r[0]+1));var n=a(e);return n[r[0]]=h(n[r[0]],r.slice(1)),n}t.getInsertPosition=function e(t,r,n,o){if(void 0===o&&(o=!1),!l.LineUtil.isFlat(r)){for(var i=void 0,s=0;s<r.length;s++){var c=o?l.default.polygon(r[s]):l.default.polyline(r[s]),d=u.default.closest(t,c,n).distance;(!i||d<i.distance)&&(i={distance:d,i:s})}return i?[i.i,e(t,r[i.i],n,o)]:[0,0]}var h=l.default.polyline(o?a(r,[r[0]]):r),p=u.default.locateOnLine(t,h,n),g=l.default.GeometryUtil.extract(t,h,0,p).length-1;return o||(g=Math.max(1,Math.min(r.length-1,g))),g},t.getRouteInsertPosition=function(e,t,r,n){for(var o=l.default.polyline(r),i=u.default.locateOnLine(e,o,n),a=0;a<t.length;a++)if(u.default.locateOnLine(e,o,t[a])>i)return a;return t.length},t.getFromPosition=function(e,t){return Array.isArray(t)?e[t[0]][t[1]]:e[t]},t.insertAtPosition=c,t.updateAtPosition=d,t.removeFromPosition=h,t.setPoint=function(e,t,r,n){var o=e.hasDraggableLinesRoutePoints(),i=o?e.getDraggableLinesRoutePoints():e.getLatLngs();i=n?c(i,t,r):d(i,t,r),o?e.setDraggableLinesRoutePoints(i):e.setLatLngs(i)},t.removePoint=function(e,t){var r=e.hasDraggableLinesRoutePoints(),n=r?e.getDraggableLinesRoutePoints():e.getLatLngs();n=h(n,t),r?e.setDraggableLinesRoutePoints(n):e.setLatLngs(n)},t.getPlusIconPoint=function(e,t,r,n){var o,i=n?t:a(t).reverse(),s=e.latLngToContainerPoint(i[0]),u=i.find((function(t,r){return r>0&&s.distanceTo(e.latLngToContainerPoint(t))>0}));if(u){var c=e.latLngToContainerPoint(u),d=r/s.distanceTo(c);o=l.default.point(s.x-d*(c.x-s.x),s.y-d*(c.y-s.y))}else o=l.default.point(s.x+(n?-1:1)*r,s.y);return e.containerPointToLatLng(o)}},306:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='25.1' height='40.227'%3e %3cdefs%3e %3clinearGradient id='b'%3e %3cstop offset='0' stop-color='%24%7bcolor1%7d' /%3e %3cstop offset='1' stop-color='%24%7bcolor2%7d' /%3e %3c/linearGradient%3e %3clinearGradient id='a'%3e %3cstop offset='0' stop-color='%24%7bcolor3%7d' /%3e %3cstop offset='1' stop-color='%24%7bcolor4%7d' /%3e %3c/linearGradient%3e %3clinearGradient xlink:href='%23a' id='c' gradientUnits='userSpaceOnUse' gradientTransform='translate(-432.796 -503.349)' x1='445.301' y1='541.286' x2='445.301' y2='503.72' /%3e %3clinearGradient xlink:href='%23b' id='d' gradientUnits='userSpaceOnUse' gradientTransform='translate(-341.216 -503.35)' x1='351.748' y1='522.774' x2='351.748' y2='503.721' /%3e %3c/defs%3e %3cpath fill='white' d='M6.329 4.513h12.625v14.5H6.329z' /%3e %3cpath d='M12.594.55C6.021.55.55 6.241.55 12.416c0 2.778 1.564 6.308 2.694 8.746l9.306 17.872 9.262-17.872c1.13-2.438 2.738-5.791 2.738-8.746C24.55 6.241 19.167.55 12.594.55zm0 7.155a4.714 4.714 0 0 1 4.679 4.71c0 2.588-2.095 4.663-4.679 4.679-2.584-.017-4.679-2.09-4.679-4.679a4.714 4.714 0 0 1 4.679-4.71z' fill='url(%23c)' stroke='url(%23d)' stroke-width='1.1' stroke-linecap='round' /%3e %3cpath d='M12.581 1.657c-5.944 0-10.938 5.219-10.938 10.75 0 2.359 1.443 5.832 2.563 8.25l.031.031 8.313 15.969 8.25-15.969.031-.031c1.135-2.448 2.625-5.706 2.625-8.25 0-5.538-4.931-10.75-10.875-10.75zm0 4.969c3.168.021 5.781 2.601 5.781 5.781 0 3.18-2.613 5.761-5.781 5.781-3.168-.02-5.75-2.61-5.75-5.781 0-3.172 2.582-5.761 5.75-5.781z' stroke='white' stroke-width='1.1' stroke-linecap='round' stroke-opacity='.122' fill='none' /%3e %3c/svg%3e"},5:(e,t,r)=>{r.r(t),r.d(t,{default:()=>n});const n="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24'%3e %3cg transform='matrix(.02604 0 0 .02604 1.302 1.302)' fill='none' stroke='black' opacity='0.3'%3e %3ccircle cx='410.9' cy='410.9' r='410.9' color='black' overflow='visible' stroke-width='100' /%3e %3cpath d='M410.9 223.2v375.4M598.6 410.9H223.2' stroke-width='120' stroke-linecap='round' /%3e %3c/g%3e %3c/svg%3e"},453:t=>{t.exports=e},7:e=>{e.exports=t}},n={};function o(e){if(n[e])return n[e].exports;var t=n[e]={exports:{}};return r[e].call(t.exports,t,t.exports,o),t.exports}return o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o(607)})()}));
//# sourceMappingURL=L.DraggableLines.js.map