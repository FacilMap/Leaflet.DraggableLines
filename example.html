<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title>L.HighlightableLayers Example</title>
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
		<style type="text/css">
			html, body { width: 100%; height: 100%; margin: 0; }
			#map { width: 100%; height: 100%; }
		</style>
	</head>

	<body>
		<div id="map"></div>
		<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
		<script src="node_modules/leaflet-geometryutil/src/leaflet.geometryutil.js"></script>
		<script type="text/javascript" src="dist/L.DraggableLines.js"></script>

		<script type="text/javascript">
		    var map = L.map('map',{
				center: [52.4830, 13.3414],
				zoom: 9
			});
		    L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
				attribution: 'Â© <a href="http://www.openstreetmap.org/copyright" target="_blank">OSM Contributors</a>',
				noWrap: true
			}).addTo(map);

			const layer1 = new L.Polyline([[53.09897, 12.02728], [52.01701, 14.18884]], { color: '#0000ff', weight: 10 }).addTo(map);

			const draggable = new L.DraggableLines(map);
			draggable.enable();
			draggable.on('dragstart', (e) => { console.log('dragstart', e); });
			//draggable.on('drag', (e) => { console.log('drag', e); });
			draggable.on('dragend', (e) => { console.log('dragend', e); });

			setTimeout(() => {
				new L.Polyline([[51.96119, 11.79382], [53.16653, 14.04877]], { color: '#ff0000', weight: 50 }).addTo(map);
			}, 100);
		</script>
	</body>
</html>
